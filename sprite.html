<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
	<link href='http://fonts.googleapis.com/css?family=Passero+One' rel='stylesheet' type='text/css'>
	<script src="js/Sprite.js"> </script>
	<script src="js/Tween.js"> </script>
	<style>
		h1 { font-family:'Passero One'; font-size:40px; }
		body { overflow:hidden; }
	</style>
	
	<script>



	random = function (n1,n2) {		        
		return n1 + Math.floor(Math.random()*(n2-n1+1));
	      }


var sprites = [0], first_time=0;

$(document).ready(function(){
	
	//var una = $.Sprite({ x:100, y:100 })
	// porbem el moviment...
	var WIDTH = $(window).width() -50
	var HEIGHT = $(window).height() -50
	var TOX = (WIDTH/2) - 150
	var TOY = (HEIGHT/2)
	
	str = "Hello how do yo do?"
	
	for(var k=0; k<str.length; k++)
	{
		tx = random(1, WIDTH)
		ty = random(1, HEIGHT)
		//console.log(k, tx, ty)
		ch = str.substring(k, k+1);
		if(ch==" ")
			p = { x: tx,  y: ty, sprite: '<h1>&nbsp;</h1>' }
		else
			p = { x: tx,  y: ty, sprite: '<h1>' + ch  +'</h1>' }
		
		var ele =  jQuery.GT.make_sprite( p )
		scaleX = random(1, 10)
		ele.scale( scaleX, scaleX )
		ele.rotate( random(1, 360) )
		ele.addChild()
				
		sprites.push( ele )
	}
	
	//var current = 0
	var tweens = [], start;
	
	function mix()
	{
		var current = 1;
		while(current<sprites.length) {
			ele = sprites[current];
			tx = random(1, WIDTH)
			ty = random(1, HEIGHT)
			ele.x( tx )
			ele.y( ty )
			scaleX = random(1, 10)
			ele.scale( scaleX, scaleX );
			ele.rotate( random(1, 360) );
			current++;
		}
	}
	
	
	function anima() {

		var current = 1;
		
		while(current<sprites.length) {
		
			if(current==1)  start = TOX
			else start += $('#sprite'+(current-1)).width()-1;
			
			console.log('posx ' + start, ' ', sprites[current].pt.text(), '   ', $('#sprite'+(current-1)).width() )
			
			var obj = { x: sprites[current].x(), y:sprites[current].y(), sp:sprites[current], 
				sc:sprites[current].scaleX(), r:sprites[current].rotate() }
			//console.log(obj)

			tweens[tweens.length] = new TWEEN.Tween(obj)
				.to({ x:start, y:TOY, sc:1, r:1 }, 500).onUpdate(function(){
					this.sp.x(this.x)
					this.sp.y(this.y)
					this.sp.scale(this.sc)
					this.sp.rotate(this.r)
				}).delay(200+current*20).start()
			
			//Tween.get( actual.style ).to({left:start, top:200}, 500, easeIn)
			current++
		}
	
	}	
	
	
	TWEEN.start()	
	
	$(document).click(function(){
		if(first_time!=0)
			mix();
		anima()
		first_time = 1;
		});
	//anima()
	
	window.onresize = function() {
		mix()
	}
	

})

	//s = new Sprite()
	//s.say_hello()
	
	

</script>
	
</head>

<body>


</body>
</html>



